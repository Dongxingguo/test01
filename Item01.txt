def encrypt_password(password):
    encrypted = ''
    
    # 将每位数的个位和十位交换位置
    password = str(password)
    for i in range(0, len(password), 2):
        if i < len(password) - 1:
            encrypted += password[i+1] + password[i]
        else:
            encrypted += password[i]
    
    # 将每位数都加上 5，并对 10 求余，再乘以 2
    encrypted = str(int(encrypted) + 5)
    encrypted = ''.join(str((int(digit) % 10) * 2) for digit in encrypted)
    
    # 将所有数字反转
    encrypted = encrypted[::-1]
    
    return encrypted


def decrypt_password(encrypted):
    decrypted = ''
    
    # 将所有数字反转
    encrypted = encrypted[::-1]
    
    # 将每位数都除以 2，并对 10 求余，再减去 5
    decrypted = str(int(encrypted) - 5)
    decrypted = ''.join(str((int(digit) % 10)) for digit in decrypted)
    
    # 将每位数的个位和十位交换位置
    for i in range(0, len(decrypted), 2):
        if i < len(decrypted) - 1:
            decrypted += decrypted[i+1] + decrypted[i]
        else:
            decrypted += decrypted[i]
    
    return decrypted


def main():
    while True:
        print("密码加密解密系统")
        print("================")
        print("1. 加密")
        print("2. 解密")
        print("3. 退出")
        choice = input("请输入菜单选项的序号：")
        
        if choice == '1':
            password = input("请输入要加密的数字密码：")
            try:
                password = int(password)
                if password > 0:
                    encrypted = encrypt_password(password)
                    print("加密后的密码为:", encrypted)
                else:
                    print("输入的数字密码必须大于0。")
            except ValueError:
                print("输入的数字密码无效。")
        
        elif choice == '2':
            encrypted = input("请输入要解密的数字密码：")
            try:
                decrypted = decrypt_password(encrypted)
                print("解密后的密码为:", decrypted)
            except ValueError:
                print("输入的数字密码无效。")
        
        elif choice == '3':
            print("退出系统。")
            break
        
        else:
            print("无效的菜单选项。请重新输入。")


if __name__ == "__main__":
    main()